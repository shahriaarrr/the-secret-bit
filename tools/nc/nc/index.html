<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Hugo 0.101.0"><link rel=canonical href=https://bit-orbit.github.io/the-secret-bit/tools/nc/nc/><meta name=description content="فهرست مرور مفاهیم پیشنیاز درست کردن چت سرور اتصال به یک پورت خاص انتقال فایل اسکن کردن پورت banner grabing درست کردن درب پشتی رمزنگاری ارتباط سوییچ های پر استفاده Author or Authors مرور ابزار netcat ابزار ساده‌ای است که می‌تواند داده ها را تحت شبکه بنویسد و با بخواند. netcat یک ابزار شبکه است که هکر ها بسیار طرفدار آن‌اند و البته این ابزار با تمامی قابلیت هایش بسیار سبک است."><link rel=apple-touch-icon sizes=180x180 href=https://bit-orbit.github.io/the-secret-bit/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://bit-orbit.github.io/the-secret-bit/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://bit-orbit.github.io/the-secret-bit/favicon-16x16.png><link rel=manifest href=https://bit-orbit.github.io/the-secret-bit/site.webmanifest><link rel=mask-icon href=https://bit-orbit.github.io/the-secret-bit/safari-pinned-tab.svg color=#000000><meta name=msapplication-TileColor content="#ffffff"><meta name=theme-color content="#ffffff"><style>body{visibility:hidden;opacity:0}</style><style id=darkTheme>.intro-and-nav,.main-and-footer{filter:invert(100%)}*{background-color:inherit}img:not([src*=".svg"]),.colors,iframe,.demo-container{filter:invert(100%)}</style><link rel=stylesheet href=https://bit-orbit.github.io/the-secret-bit/css/prism.css media=none onload='this.media="all"'><link rel=stylesheet type=text/css href=https://bit-orbit.github.io/the-secret-bit/css/styles.css><link rel=stylesheet href=https://bit-orbit.github.io/the-secret-bit/css/custom_01.css><title>netcat | the-secret-bit</title></head><body><a href=#main>skip to content</a><noscript><style>body{visibility:visible;opacity:1}</style></noscript><svg style="display:none"><symbol id="bookmark" viewBox="0 0 40 50"><g transform="translate(2266 3206.2)"><path style="stroke:currentColor;stroke-width:3.2637;fill:none" d="m-2262.2-3203.4-.2331 42.195 16.319-16.318 16.318 16.318.2331-42.428z"/></g></symbol><symbol id="w3c" viewBox="0 0 127.09899 67.763"><text font-size="83" style="font-size:83px;font-family:Trebuchet;letter-spacing:-12;fill-opacity:0" letter-spacing="-12" y="67.609352" x="-26.782778">W3C</text><text font-size="83" style="font-size:83px;font-weight:700;font-family:Trebuchet;fill-opacity:0" y="67.609352" x="153.21722" font-weight="bold">SVG</text><path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m33.695.377 12.062 41.016 12.067-41.016h8.731L46.587 67.763h-.831l-12.48-41.759-12.479 41.759h-.832l-19.965-67.386h8.736l12.061 41.016 8.154-27.618-3.993-13.397h8.737z"/><path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m91.355 46.132c0 6.104-1.624 11.234-4.862 15.394-3.248 4.158-7.45 6.237-12.607 6.237-3.882.0-7.263-1.238-10.148-3.702-2.885-2.47-5.02-5.812-6.406-10.022l6.82-2.829c1.001 2.552 2.317 4.562 3.953 6.028 1.636 1.469 3.56 2.207 5.781 2.207 2.329.0 4.3-1.306 5.909-3.911 1.609-2.606 2.411-5.738 2.411-9.401.0-4.049-.861-7.179-2.582-9.399-1.995-2.604-5.129-3.912-9.397-3.912H66.9v-3.991L78.546 8.698H64.484l-3.911 6.655H58.08v-14.976h32.441v4.075l-12.31 21.217c4.324 1.385 7.596 3.911 9.815 7.571 2.22 3.659 3.329 7.953 3.329 12.892z"/><path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m125.21.0 1.414 8.6-5.008 9.583s-1.924-4.064-5.117-6.314c-2.693-1.899-4.447-2.309-7.186-1.746-3.527.73-7.516 4.938-9.258 10.13-2.084 6.21-2.104 9.218-2.178 11.978-.115 4.428.58 7.043.58 7.043s-3.04-5.626-3.011-13.866c.018-5.882.947-11.218 3.666-16.479 2.404-4.627 5.954-7.404 9.114-7.728 3.264-.343 5.848 1.229 7.841 2.938 2.089 1.788 4.213 5.698 4.213 5.698l4.94-9.837z"/><path style="fill:currentColor;image-rendering:optimizeQuality;shape-rendering:geometricPrecision" d="m125.82 48.674s-2.208 3.957-3.589 5.48c-1.379 1.524-3.849 4.209-6.896 5.555-3.049 1.343-4.646 1.598-7.661 1.306-3.01-.29-5.807-2.032-6.786-2.764-.979-.722-3.486-2.864-4.897-4.854-1.42-2-3.634-5.995-3.634-5.995s1.233 4.001 2.007 5.699c.442.977 1.81 3.965 3.749 6.572 1.805 2.425 5.315 6.604 10.652 7.545 5.336.945 9.002-1.449 9.907-2.031.907-.578 2.819-2.178 4.032-3.475 1.264-1.351 2.459-3.079 3.116-4.108.487-.758 1.276-2.286 1.276-2.286l-1.276-6.644z"/></symbol><symbol id="tag" viewBox="0 0 177.16535 177.16535"><g transform="translate(0 -875.2)"><path style="fill-rule:evenodd;stroke-width:0;fill:currentColor" d="m159.9 894.3-68.79 8.5872-75.42 77.336 61.931 60.397 75.429-76.565 6.8495-69.755zm-31.412 31.835a10.813 10.813.0 011.8443 2.247 10.813 10.813.0 01-3.5174 14.872l-.0445.0275a10.813 10.813.0 01-14.86-3.5714 10.813 10.813.0 013.5563-14.863 10.813 10.813.0 0113.022 1.2884z"/></g></symbol><symbol id="balloon" viewBox="0 0 141.73228 177.16535"><g transform="translate(0 -875.2)"><g><path style="fill:currentColor" d="m68.156 882.83-.88753 1.4269c-4.9564 7.9666-6.3764 17.321-5.6731 37.378.36584 10.437 1.1246 23.51 1.6874 29.062.38895 3.8372 3.8278 32.454 4.6105 38.459 4.6694-.24176 9.2946.2879 14.377 1.481 1.2359-3.2937 5.2496-13.088 8.886-21.623 6.249-14.668 8.4128-21.264 10.253-31.252 1.2464-6.7626 1.6341-12.156 1.4204-19.764-.36325-12.93-2.1234-19.487-6.9377-25.843-2.0833-2.7507-6.9865-7.6112-7.9127-7.8436-.79716-.20019-6.6946-1.0922-6.7755-1.0248-.02213.0182-5.0006-.41858-7.5248-.22808l-2.149-.22808h-3.3738z"/><path style="fill:currentColor" d="m61.915 883.28-3.2484.4497c-1.7863.24724-3.5182.53481-3.8494.63994-2.4751.33811-4.7267.86957-6.7777 1.5696-.28598.0-1.0254.20146-2.3695.58589-5.0418 1.4418-6.6374 2.2604-8.2567 4.2364-6.281 7.6657-11.457 18.43-12.932 26.891-1.4667 8.4111.71353 22.583 5.0764 32.996 3.8064 9.0852 13.569 25.149 22.801 37.517 1.3741 1.841 2.1708 2.9286 2.4712 3.5792 3.5437-1.1699 6.8496-1.9336 10.082-2.3263-1.3569-5.7831-4.6968-21.86-6.8361-33.002-.92884-4.8368-2.4692-14.322-3.2452-19.991-.68557-5.0083-.77707-6.9534-.74159-15.791.04316-10.803.41822-16.162 1.5026-21.503 1.4593-5.9026 3.3494-11.077 6.3247-15.852z"/><path style="fill:currentColor" d="m94.499 885.78c-.10214-.0109-.13691.0-.0907.0409.16033.13489 1.329 1.0675 2.5976 2.0723 6.7003 5.307 11.273 14.568 12.658 25.638.52519 4.1949.24765 14.361-.5059 18.523-2.4775 13.684-9.7807 32.345-20.944 53.519l-3.0559 5.7971c2.8082.76579 5.7915 1.727 8.9926 2.8441 11.562-11.691 18.349-19.678 24.129-28.394 7.8992-11.913 11.132-20.234 12.24-31.518.98442-10.02-1.5579-20.876-6.7799-28.959-.2758-.4269-.57803-.86856-.89617-1.3166-3.247-6.13-9.752-12.053-21.264-16.131-2.3687-.86369-6.3657-2.0433-7.0802-2.1166z"/><path style="fill:currentColor" d="m32.52 892.22c-.2009-.13016-1.4606.81389-3.9132 2.7457-11.486 9.0476-17.632 24.186-16.078 39.61.79699 7.9138 2.4066 13.505 5.9184 20.562 5.8577 11.77 14.749 23.219 30.087 38.74.05838.059.12188.1244.18052.1838 1.3166-.5556 2.5965-1.0618 3.8429-1.5199-.66408-.32448-1.4608-1.3297-3.8116-4.4602-5.0951-6.785-8.7512-11.962-13.051-18.486-5.1379-7.7948-5.0097-7.5894-8.0586-13.054-6.2097-11.13-8.2674-17.725-8.6014-27.563-.21552-6.3494.13041-9.2733 1.775-14.987 2.1832-7.5849 3.9273-10.986 9.2693-18.07 1.7839-2.3656 2.6418-3.57 2.4409-3.7003z"/><path style="fill:currentColor" d="m69.133 992.37c-6.2405.0309-12.635.76718-19.554 2.5706 4.6956 4.7759 9.935 10.258 12.05 12.625l4.1272 4.6202h11.493l3.964-4.4516c2.0962-2.3541 7.4804-7.9845 12.201-12.768-8.378-1.4975-16.207-2.6353-24.281-2.5955z"/><rect style="stroke-width:0;fill:currentColor" ry="2.0328" height="27.746" width="22.766" y="1017.7" x="60.201"/></g></g></symbol><symbol id="info" viewBox="0 0 41.667 41.667"><g transform="translate(-37.035 -1004.6)"><path style="stroke-linejoin:round;stroke:currentColor;stroke-linecap:round;stroke-width:3.728;fill:none" d="m76.25 1030.2a18.968 18.968.0 01-23.037 13.709 18.968 18.968.0 01-13.738-23.019 18.968 18.968.0 0123.001-13.768 18.968 18.968.0 0113.798 22.984"/><g transform="matrix(1.1146 0 0 1.1146 -26.276 -124.92)"><path style="stroke:currentColor;stroke-linecap:round;stroke-width:3.728;fill:none" d="m75.491 1039.5v-8.7472"/><path style="stroke-width:0;fill:currentColor" transform="scale(-1)" d="m-73.193-1024.5a2.3719 2.3719.0 01-2.8807 1.7142 2.3719 2.3719.0 01-1.718-2.8785 2.3719 2.3719.0 012.8763-1.7217 2.3719 2.3719.0 011.7254 2.8741"/></g></g></symbol><symbol id="warning" viewBox="0 0 48.430474 41.646302"><g transform="translate(-1.1273 -1010.2)"><path style="stroke-linejoin:round;stroke:currentColor;stroke-linecap:round;stroke-width:4.151;fill:none" d="m25.343 1012.3-22.14 37.496h44.28z"/><path style="stroke:currentColor;stroke-linecap:round;stroke-width:4.1512;fill:none" d="m25.54 1027.7v8.7472"/><path style="stroke-width:0;fill:currentColor" d="m27.839 1042.8a2.3719 2.3719.0 01-2.8807 1.7143 2.3719 2.3719.0 01-1.718-2.8785 2.3719 2.3719.0 012.8763-1.7217 2.3719 2.3719.0 011.7254 2.8741"/></g></symbol><symbol id="menu" viewBox="0 0 50 50"><rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="0" x="0"/><rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="20" x="0"/><rect style="stroke-width:0;fill:currentColor" height="10" width="50" y="40" x="0"/></symbol><symbol id="link" viewBox="0 0 50 50"><g transform="translate(0 -1002.4)"><g transform="matrix(.095670 0 0 .095670 2.3233 1004.9)"><g><path style="stroke-width:0;fill:currentColor" d="m452.84 192.9-128.65 128.65c-35.535 35.54-93.108 35.54-128.65.0l-42.881-42.886 42.881-42.876 42.884 42.876c11.845 11.822 31.064 11.846 42.886.0l128.64-128.64c11.816-11.831 11.816-31.066.0-42.9l-42.881-42.881c-11.822-11.814-31.064-11.814-42.887.0l-45.928 45.936c-21.292-12.531-45.491-17.905-69.449-16.291l72.501-72.526c35.535-35.521 93.136-35.521 128.64.0l42.886 42.881c35.535 35.523 35.535 93.141-.001 128.66zM198.56 361.41l-45.903 45.9c-11.845 11.846-31.064 11.817-42.881.0l-42.884-42.881c-11.845-11.821-11.845-31.041.0-42.886l128.65-128.65c11.819-11.814 31.069-11.814 42.884.0l42.886 42.886 42.876-42.886-42.876-42.881c-35.54-35.521-93.113-35.521-128.65.0l-128.65 128.64c-35.538 35.545-35.538 93.146.0 128.65l42.883 42.882c35.51 35.54 93.11 35.54 128.65.0l72.496-72.499c-23.956 1.597-48.092-3.784-69.474-16.283z"/></g></g></g></symbol><symbol id="doc" viewBox="0 0 35 45"><g transform="translate(-147.53 -539.83)"><path style="stroke:currentColor;stroke-width:2.4501;fill:none" d="m149.38 542.67v39.194h31.354V542.67z"/><g style="stroke-width:25" transform="matrix(.098003 0 0 .098003 133.69 525.96)"><path d="m220 252.36h2e2" style="stroke:currentColor;stroke-width:25;fill:none"/><path style="stroke:currentColor;stroke-width:25;fill:none" d="m220 409.95h2e2"/><path d="m220 488.74h2e2" style="stroke:currentColor;stroke-width:25;fill:none"/><path d="m220 331.15h2e2" style="stroke:currentColor;stroke-width:25;fill:none"/></g></g></symbol><symbol id="tick" viewBox="0 0 177.16535 177.16535"><g transform="translate(0 -875.2)"><rect style="stroke-width:0;fill:currentColor" transform="rotate(30)" height="155" width="40" y="702.99" x="556.82"/><rect style="stroke-width:0;fill:currentColor" transform="rotate(30)" height="40" width="90.404" y="817.99" x="506.42"/></g></symbol></svg><div class=wrapper><header class=intro-and-nav role=banner><div><div class=intro><a class=logo href=https://bit-orbit.github.io/the-secret-bit aria-label="the-secret-bit home page"><img src=https://bit-orbit.github.io/the-secret-bit/images/logo.svg alt=logo></a><p class=library-desc>linux command&rsquo;s hand-book</p></div><nav id=patterns-nav class=patterns role=navigation><h2 class=vh>Main navigation</h2><button id=menu-button aria-expanded=false><svg viewBox="0 0 50 50" aria-hidden="true" focusable="false"><use xlink:href="#menu"/></svg>
Menu</button><ul id=patterns-list><li class=pattern><a href=https://bit-orbit.github.io/the-secret-bit/><svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50"><use xlink:href="#bookmark"/></svg><span class=text>روی جلد</span></a></li><li class=pattern><a href=https://bit-orbit.github.io/the-secret-bit/nav/contribute/how-to-contribute/><svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50"><use xlink:href="#bookmark"/></svg><span class=text>مشارکت در کتاب</span></a></li><li class=pattern><a href=https://bit-orbit.github.io/the-secret-bit/tools/><svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50"><use xlink:href="#bookmark"/></svg><span class=text>ابزار ها</span></a></li><li class=pattern><a href=https://bit-orbit.github.io/the-secret-bit/fundamentals/><svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50"><use xlink:href="#bookmark"/></svg><span class=text>مفاهیم و اصول</span></a></li><li class=pattern><a href=https://github.com/bit-orbit/the-secret-bit/issues><svg class="bookmark-icon" aria-hidden="true" focusable="false" viewBox="0 0 40 50"><use xlink:href="#bookmark"/></svg><span class=text>انجمن</span></a></li></ul></nav></div></header><div class=main-and-footer><div><main id=main><h1>netcat</h1><p><a href=nc.png><img src=nc.png alt=netcat></a></p><div dir=rtl><h3 id=فهرست>فهرست</h3><blockquote><ul><li><a href=#%D9%85%D8%B1%D9%88%D8%B1>مرور</a></li><li><a href=#%D9%85%D9%81%D8%A7%D9%87%DB%8C%D9%85-%D9%BE%DB%8C%D8%B4%D9%86%DB%8C%D8%A7%D8%B2>مفاهیم پیشنیاز</a></li><li><a href=#%D8%AF%D8%B1%D8%B3%D8%AA-%DA%A9%D8%B1%D8%AF%D9%86-%DA%86%D8%AA-%D8%B3%D8%B1%D9%88%D8%B1>درست کردن چت سرور</a></li><li><a href=#%D8%A7%D8%AA%D8%B5%D8%A7%D9%84-%D8%A8%D9%87-%DB%8C%DA%A9-%D9%BE%D9%88%D8%B1%D8%AA-%D8%AE%D8%A7%D8%B5>اتصال به یک پورت خاص</a></li><li><a href=#%D8%A7%D9%86%D8%AA%D9%82%D8%A7%D9%84-%D9%81%D8%A7%DB%8C%D9%84>انتقال فایل</a></li><li><a href=#%D8%A7%D8%B3%DA%A9%D9%86-%DA%A9%D8%B1%D8%AF%D9%86-%D9%BE%D9%88%D8%B1%D8%AA>اسکن کردن پورت</a></li><li><a href=#banner-grabing>banner grabing</a></li><li><a href=#%D8%AF%D8%B1%D8%B3%D8%AA-%DA%A9%D8%B1%D8%AF%D9%86-%D8%AF%D8%B1%D8%A8-%D9%BE%D8%B4%D8%AA%DB%8C>درست کردن درب پشتی</a></li><li><a href=#%D8%B1%D9%85%D8%B2%D9%86%DA%AF%D8%A7%D8%B1%DB%8C-%D8%A7%D8%B1%D8%AA%D8%A8%D8%A7%D8%B7>رمزنگاری ارتباط</a></li><li><a href=#%D8%B3%D9%88%DB%8C%DB%8C%DA%86-%D9%87%D8%A7%DB%8C-%D9%BE%D8%B1-%D8%A7%D8%B3%D8%AA%D9%81%D8%A7%D8%AF%D9%87>سوییچ های پر استفاده</a></li><li><a href=#author-or-authors>Author or Authors</a></li></ul></blockquote><hr><h3 id=مرور>مرور</h3><p>ابزار
netcat
ابزار ساده‌ای است که می‌تواند داده ها را تحت شبکه بنویسد و با بخواند.
netcat
یک ابزار شبکه است که هکر ها بسیار طرفدار آن‌اند و البته این ابزار با تمامی قابلیت هایش
بسیار سبک است.
netcat
اجازه می‌دهد دو کامپیوتر توسط پروتکل های
tcp, udp
در لایه
ip،
به یکدیگر داده ارسال کنند.
netcat
می‌تواند هم به عنوان
client
و هم
server
عمل کند. برخی از کار های معمولی این ابزار عبارتند از: استفاده به عنوان <em>پیامرسان،</em>
<em>ارسال فایل</em>، <em>اسکن پورت</em> و
<em>banner grabing</em>.</p><hr><h3 id=مفاهیم-پیشنیاز>مفاهیم پیشنیاز</h3><p>چند مفهوم وجود دارد که احتمالا بلدش هستید، اما بد نیست مروری به این مفاهیم داشته باشیم.</p><blockquote><ol><li><strong>Ip</strong></li></ol><p>همانطور که می‌دانید ما از چند نوع
ip
برای
شنود استفاده می‌کنیم، مثلا وقتی درحال شنود روی یک پورت هستید ممکن است نیاز داشته باشید که
این پورت فقط برای ای‌پی های لوکال قابل دسترسی باشد
از این رو باید فقط از ای‌پی لوکال خود استفاده کنید، با دستور
<code>ipconfig</code>
می‌توانید ای‌پی لوکال خودتون رو ببینید، این ای‌پی ها معمولا با این اعداد شروع می‌شوند:
<code>10.x.x.x</code>
یا
<code>172.16.x.x</code>
و یا
<code>192.168.x.x</code>
و خب اگر شما نیاز دارید تا شنود محدود به ای‌پی لوکال نشود کافیست ای‌پی را به این
ای‌پی تنظیم کنید
<code>0.0.0.0</code></p></blockquote><blockquote><ol start=2><li><strong>Cypher</strong></li></ol><p>یادتون باشه که
netcat
هیچ رمزنگاری روی داده ها انجام نمی‌دهد.</p></blockquote><blockquote><ol start=3><li><strong>Port</strong></li></ol><p>در شبکه، پورت های زیر 1024 همه رزرو شده هستند، سعی کنید از این پورت ها استفاده نکنید
و یا اگر مجبور به استفاده از این پورت ها هستید، حتما باید با دسترسی روت
netcat
را اجرا کنید.</p></blockquote><blockquote><ol start=4><li><strong>TCP/UDP</strong></li></ol><p>در حالت پیشفرض
netcat
از پروتکل
TPC
برای اتصال استفاده می‌کند. برای تغییر این پورتکل به
UDP
باید از سوییچ
<code>-u</code>
استفاده کنید. فراموش نکنید که این سوییچ را باید برای هم سرور و هم کلاینت
به کار ببرید. درواقع هر دو باید از یک پروتکل یکسان استفاده کنند.</p></blockquote><hr><h3 id=درست-کردن-چت-سرور>درست کردن چت سرور</h3><p>برای درست کردن یک چت سرور به دو مفهوم
<strong>کلاینت</strong>
و
<strong>سرور</strong>
نیاز داریم. اول بریم سراغ سرور، ما قراره بین دو کامپیوتر
چت کنیم، یکی از کامپیوتر ها روی یک پورت خاص شروع به شنود می‌کنه.
برای درست کردن سرور این دستور را وارد کنید</p><pre><code class=language-bash>nc -l 0.0.0.0 1337
</code></pre><p>این دستور روی پورت 1337 از هر نوع ای‌پی که باشد، یک کانکشن رو قبول می‌کنه
سوییچ
<code>-l</code>
مشخص می‌کند که
netcat
باید باید
listener(شنونده)
باشد.</p><p>به زبان ساده‌تر، یکی از سیستم ها برای یک اتصال از یک سیستم
منتظز می‌ماند. کلاینت باید با دادن ای‌پی سرور به
netcat،
به سرور متصل شود.
برای اینکه کلاینت را به سرور متصل کنیم، فرض کنید ای‌پی لوکال سرور
<code>192.168.1.2</code>
است، حال در سیستم کلاینت این دستور را برای اتصال به سرور وارد می‌کنیم</p><pre><code class=language-bash>nc 192.168.1.2 1337
</code></pre><p>این دستور برای
nc
مشخص می‌کند که باید به پورت 1337 سیستمی با آدرس ای‌پی 192.168.1.2
متصل شود.</p><blockquote><p><strong>نکته</strong>:
بهتره است
از سوییچ
<code>v-</code>
برای حالت
<em>verbose</em>
استفاده کنید، این سوییچ باعث میشه تا لاگ رخداد ها را ببینید، برای مثلال اگر سیستمی
کانکت شد
و یا به دلیلی اتصال یک سیستم قطع شد، یک خروجی متنی نمایش داده می‌شود</p></blockquote><hr><h3 id=اتصال-به-یک-پورت-خاص>اتصال به یک پورت خاص</h3><p>همانطور که در دستورات قبلی مشاهده کردیم، متصل شدن به یک پورت مشخص
دو ورودی می‌گیرد، اولی برای مشخص کردن ای‌پی سرور و دومین ورودی پورت را مشخص
می‌کند. برای مثال برای متصل شدن به سیستمی با ای‌پی <strong>192.168.1.1</strong> و پورت <strong>23</strong></p><pre><code class=language-bash>nc 192.168.1.1 23
</code></pre><blockquote><p><strong>نکته:</strong>
این پروت پیشفرض
telnet
است، اگر سیستم یا روتر شما از این پروتکل استفاده می‌کند، شما با وارد کردن
این دستور درواقع شما به سیستم
telnet
کرده اید.</p></blockquote><hr><h3 id=انتقال-فایل>انتقال فایل</h3><p>انتقال فایل با
netcat
یکی از پرکاربرد ترین کار ها برای من بوده، چرا که توی شرکت و حتی در
خانه نیازی به نصب و استفاده از ابزار های دیگه ای نداشتم.</p><p>اولین قدم این است که سیستمی که قرار است فایل را دریافت کند را تبدیل به یک سرور کنیم.
netcat
به صورت پیشفرض تمامی دیتایی که دریافت می‌کند را سعی می‌کند در خروجی چاپ کند،
اما فایل ها که به درستی در خروجی چاپ نمی‌شود، ما نیاز داریم تا فایل را ذخیره کنیم.
برای ذخیره داده های دریافتی کافیت از دستور ریدایرکت استفاده کنیم.</p><pre><code class=language-bash>nc -lv 0.0.0.0 1337 &gt; fileName.jpg
</code></pre><p>علامت
<code>></code>
دستور ریدایرکت است که بعد از دستور
netcat
قرار داده‌ایم، و بعد از این علامت باید یک نام دلخواه به فایل بدهیم، ولی سعی کنید پسوند
فایل را درست وارد کنید.</p><p>کلاینت برای ارسال فایل به این سرور باید فایل را بخواند و سپس آن را به
netcat
پایپ کند.</p><p>برای خواندن فایل از دستور
<code>cat</code>
استفاده می‌کنیم. پایپ کردن به این معنی است که خروجی یک دستور را به عنوان ورودی
به یک دستور دیگر بدهیم.
توی این مورد ما فایل
jpg
را می‌خوانیم و آن را به سرور ارسال می‌کنیم. فرض کنید ای‌پی سرور 192.168.1.2.
و نام فایل عکس ما
image.jpg
است.</p><pre><code class=language-bash>cat image.jpg | nc -v 192.168.1.2 1337
</code></pre><p>علامت
<code>|</code>
همان دستور پایپ است.</p><blockquote><p><strong>نکته:</strong>
برای اینکه سرعت ارسال و حجم ارسال شده داده را در لحظه ببینید از دستور
pv
استفاده کنید. به زبان ساده تر خروجی دستور اول را به
pv
و خروجی
pv
را به
nc
پایپ کنید</p></blockquote><pre><code class=language-bash>cat image.jpg | pv | nc -v 192.168.1.2 1337
</code></pre><hr><h3 id=اسکن-کردن-پورت>اسکن کردن پورت</h3><p>این کار برای این است که چک کنیم چه پورت هایی از سیستم باز است.
برای مثال برای این که ببینیم پورت 80 سرور گوگل باز است یا نه،
دامنه
google.com
را به
<code>nc -z</code>
می‌دهیم تا چک کند که آیا پورت 80 این سرور باز است یا خیر.
این نکته را بخاطر داشته باشید که در حالت عادی این سویچ هیچ خروجی ندارد،
و ما باید با استفاده از سوییچ
<code>-v</code>
خروجی را ببینیم.</p><pre><code class=language-bash>nc -vz google.com 80
</code></pre><p>در صورتی که پورت باز باشد خروجی به این شکل است</p><pre><code class=language-bash>Connection to google.com (142.250.186.174) 80 port [tcp/http] succeeded!
</code></pre><p>اما اگر شما می‌خواید یک محدوده خاصی از پورت های یک سرور را چک کنید باید از علامت
<code>-</code>
بین پورت ها استفاده کنید.</p><p>برای مثال من پورت های 21 تا 80 سیستم خودم را چک می‌کنم</p><pre><code class=language-bash>nc -zv 127.0.0.1 21-80
</code></pre><p>و در خروجی</p><pre><code class=language-bash>Connection to 127.0.0.1 21 port [tcp/*] succeeded!
Connection to 127.0.0.1 22 port [tcp/*] succeeded!
nc: connect to 127.0.0.1 port 23 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 24 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 25 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 26 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 27 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 28 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 29 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 30 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 31 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 32 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 33 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 34 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 35 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 36 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 37 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 38 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 39 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 40 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 41 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 42 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 43 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 44 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 45 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 46 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 47 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 48 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 49 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 50 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 51 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 52 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 53 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 54 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 55 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 56 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 57 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 58 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 59 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 60 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 61 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 62 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 63 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 64 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 65 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 66 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 67 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 68 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 69 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 70 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 71 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 72 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 73 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 74 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 75 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 76 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 77 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 78 (tcp) failed: Connection refused
nc: connect to 127.0.0.1 port 79 (tcp) failed: Connection refused
Connection to 127.0.0.1 80 port [tcp/*] succeeded!
</code></pre><p>در این خروجی مشاهده می‌کنید که سه تا از پورت های من باز است و دیگر پورت ها
بسته هستند.</p><blockquote><p><strong>نکته:</strong>
سرور ها معمولا فایروال در جلو خود دارند این باعث میشه که وقتی شما درحال برسی
یک محدوده خاصی از پورت ها هستید، پورت هایی که توسط فایروال بسته شده است
زمان زیادی صرف کند تا تیجه را ببینید، و البته که نتیجه درست را نمایش نمی‌دهد
به این دلیل که
netcat
بخاطر فایروال نتوانسته است بسته بودن و یا باز بودن پروت را تشخیص دهد.
برای این که زمان کمی‌ صرف پورت های فیلتر شده شود، از سوییچ
<code>-w</code>
استفاده کنید، این سوییچ مخفف
<em>wait</em>
به معنی انتظار است، و در برابر این سوییچ عدد 1 که کمترین زمان انتظار است را قرار
بدهید.</p></blockquote><pre><code class=language-bash>nc -znv 127.0.0.1 21-80 -w 1
</code></pre><hr><h3 id=banner-grabing>banner grabing</h3><p>این اصطلاح به این معنی است که با متصل شدن به پورت یک سیستم
تشخیص بدهیم که چه برنامه‌ای و چه نسخه ای از آن برنامه درحال استفاده از پورت است.
این به ما کمک می‌کند تا تشخیص بدهیم که آیا آن برنامه حفره امنیتی دارد و یا اینکه با
تشخیص نوع سرویس آن پورت سعی کنیم به نحوی از آن سرویس سوء استفاده کنیم.</p><p>برای مثال روی سیستم من یک سرویس
FTP
درحال اجرا است، هکر برای اینکه برنامه و ورژن سرویس
FTP
من را بدست بیارد، می‌تواند فقط با متصل شدن به پورت 21 این اطلاعات را بدست بیارد</p><pre><code class=language-bash>nc 127.0.0.1 21
</code></pre><p>و خروجی این دستور</p><pre><code class=language-bash>220 (vsFTPd 3.0.3)
</code></pre><p>و یا همچنین من یک سرویس
SSH
هم اجرا کرده‌ام، برای بدست اوردن اطلاعات آن هم کافیست به پورت
SSH
متصل بشویم.</p><pre><code class=language-bash>nc 127.0.0.1 22
</code></pre><p>و خروجی</p><pre><code class=language-bash>SSH-2.0-OpenSSH_8.4p1 Ubuntu-5ubuntu1.1
</code></pre><hr><h3 id=درست-کردن-درب-پشتی>درست کردن درب پشتی</h3><p>درب پشتی
(backdoor)
یک اصطلاح پر کاربرد در دنیای کامپیوتر است. فرض کنید در خانه‌ای هستید که فقط یک راه
ورود و خروج دارد. اگر به هر نحوی این راه مسدود شود، شما دیگر راهی
برای خروج نخواهید داشت.</p><p>در دنیای کامپیوتر به اینگونه است که فرض کنید شما به سیستمی نفوذ کرده اید،
ممکن است هر لحظه مدیر سیستم به این اتفاق پی‌ببرد و دسترسی شما را از سیستم قطع کند.
به همین دلیل شما باید قبل از تشخیص مدیر سیستم، یک درب پشتی کار بگذارید. البته
این روش فقط به عنوان درب پشتی نیست، ممکن است شما نیاز داشته باشید تا به صورت موقت یک
remote shell
درست کنید و از سیستم دیگری به آن متصل شوید.</p><blockquote><p><strong>نکته:</strong>
نکته‌ای که باید به آن توجه کنید این است که می‌توانیم با <strong>دو</strong> روش
backdoor
راه اندازی کنیم.
<strong>straight</strong>
و
<strong>reverse</strong>.
استفاده از این دو روش بستگی به موقعیت و وضعیت دارد.</p></blockquote><p>در قدم اول سیستم هدف
را مستقیما روی یک پورت مشخص مشغول به شنود می‌کنیم.
به معنای دیگر این سیستم را تبدیل به یک سرور چت ‌می‌کنیم، اما تفاوت در این است
که بجای نمایش متن هایی که به سرور ارسال می‌شود، آن ها را به عنوان کامند
اجرا می‌کنیم و خروجی را به سمت کلاینت باز می‌گردانیم.</p><pre><code class=language-bash>mkfifo /tmp/evilfun
cat /tmp/evilfun | sh -i 2&gt;&amp;1 | nc -l 0.0.0.0 2100 &gt; /tmp/evilfun
</code></pre><blockquote><p>در خط اول ما یک فایلی به نام
evilfun
درست کردیم، این نوع فایل ها، فایل
fifo(first in first out)
هستند، درواقع هر داده که وارد این فایل شود در رم ذخیره می‌شود تا زمانی که یک پردازش
آن محتوا را بخواند، و زمانی که محتوا خوانده شد، آن محتوا از حذف و فایل
خالی می‌شود.</p></blockquote><blockquote><p><strong>روش وارونه</strong></p><p>استفاده از این روش بسیار مرسوم است، چرا که سیستم های شخص دارای ای‌پی
استاتیک(ایستا) نیستند و همچنین این سیستم ها پشت روتر قرار دارند
که این باعث می‌شود شما نتوانید به پورت های باز سیستم های پشت روتر متصل شوید.</p><ul><li>برای اجرای این روش شما باید
در سیستم خود شروع به شنود کنید
و از سیستم هدف به سیستم خود متصل شوید.
و هر متنی را که از سیستم خود به سیستم هدف ارسال می‌کنید را به
bash
برای اجرا، بدهید.</li></ul></blockquote><hr><h3 id=رمزنگاری-ارتباط>رمزنگاری ارتباط</h3><p>استفاده از
netcat
در شبکه برای ارسال داده های حساس ممکنه است داده شما را به خطر بیاندازد.
netcat
در حالت پیشفرض هیچ رمزنگاری انجام نمی‌دهد، به همین دلیل باید از ابزار و راه هایی
استفاده کنیم که داده ها را قبل از ارسال رمزنگاری و بعد از دریافت رمزگشایی کند.
راه های متفاوی وجود دارند که یکی از آنها استفاده از ابزار
<strong>cryptcat</strong>
است. این ابزار با استفاده از
netcat
داده ها ارسال می‌کند که به این معنی است که سوییچ های یکسانی دارند.
این ابزار از رمزنگاری متقارنی به اسم
<strong>two fish</strong>
برای رمزنگاری استفاده می‌کند.</p><blockquote><p>سوییچ
<code>-k</code>
متفاوت است.
در
cryptcat
به عنوان key(کلید)
استفاده می‌شود.</p></blockquote><p>برای انتقال فایل و یا ارسال متن اکثر سوییچ ها یکسان هستند و نحوه
کار کردن با این ابزار تفاوت با
netcat
نمی‌کند. اما برای نمونه یک چت سرور راه اندازی می‌کنیم.</p><pre><code class=language-bash>cryptcat -k passWord -lv -s 192.168.1.2 -p 1337
</code></pre><p>چت سرور ما با رمز
<em>passWord</em>
و ادرس آی‌پی <em>192.168.1.2</em>
و روی پورت <em>1337</em> درحال شنود است.</p><p>حال باید سمت کلاینت به این پورت متصل شد. برای اینکار تنها تفاوت این است که
باید کلمه عبور را هم علاوه بر آی‌پی و پورت مشخص کنیم.</p><pre><code class=language-bash>cryptcat -k passWord 192.168.1.2 1337
</code></pre><blockquote><p>فراموش نکنید
cryptcat
بر خلاف
netcat.
روی همه ای‌پی ها(0.0.0.0) شنود می‌کند.</p></blockquote><hr><h3 id=سوییچ-های-پر-استفاده>سوییچ های پر استفاده</h3><ol><li><p>سوییچ
<strong><code>-l</code></strong>
برای سیستم سمت سرور استفاده می‌شود. این سوییچ مشخص می‌کند که
سیستم باید شنونده باشد.</p></li><li><p>سوییچ
<strong><code>-v</code></strong>
برای حالت پر حرف استفاده می‌شود. به این معنا که شما لاگ های رخداد های
مختلف مانند قطع، وصل و ای‌پی و پورت مقصد را خواهید دید.</p></li><li><p>سوییچ
<strong><code>-k</code></strong>.
قبل از توضح این سوییچ، باید بگم که اگر شما به سیستمی که با
netcat
درحال شنود است متصل شوید و پس از اتمام کار ارتباط خود را قطع کنید،
سیستم درحال شنود هم دیگر شنود نخواهد کرد. برای اینکه سرور همیشه درحال شنود
باقی بماند و پس از پایان ارتباط، همچنان شنود را ادامه بدهد،
در سمت سرور باید از سوییچ
<code>-k</code>
استفاده کرد.</p></li></ol><hr></div><h3 id=author-or-authors>Author or Authors:</h3><ul><li><em><a href=https://github.com/shabane>Arya</a></em> | <strong><a href=mailto:m.mohamadshabane@gmail.com>m.mohamadshabane@gmail.com</a></strong></li></ul></main><footer role=contentinfo><div><label for=themer>dark theme: <input type=checkbox id=themer class=vh>
<span aria-hidden=true></span></label></div>Made with Love with <a href=https://gohugo.io/>Hugo</a>. Themed by <a href=https://github.com/zwbetz-gh/cupper-hugo-theme>Cupper</a>.</footer></div></div></div><script src=https://bit-orbit.github.io/the-secret-bit/js/dom-scripts.js></script>
<script src=https://bit-orbit.github.io/the-secret-bit/js/prism.js></script>
<script src=https://bit-orbit.github.io/the-secret-bit/js/search.7aef046a0cc8b0c532f1d20087b920459bc868c936bb48a6ae221eceefca2d07.js></script>
<link rel=stylesheet href=https://bit-orbit.github.io/the-secret-bit/css/search.fe0cd54a21628574bff49d721c827d1bb165ab56b0f22dd55ae78addbe61c309.css></link>
<script src=https://bit-orbit.github.io/the-secret-bit/js/custom_01.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.css integrity=sha384-dbVIfZGuN1Yq7/1Ocstc1lUEm+AT+/rCkibIcC/OmWo5f0EA48Vf8CytHzGrSwbQ crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/katex.min.js integrity=sha384-2BKqo+exmr9su6dir+qCw08N2ZKRucY4PrGQPPWU1A7FtlCGjmEGFqXCv5nyM5Ij crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.1/dist/contrib/auto-render.min.js integrity=sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI crossorigin=anonymous onload=renderMathInElement(document.body)></script></body></html>